# Calendar Enhancement Plan

## Current State Analysis

### Web Calendar
- **Location**: `apps/web/src/components/calendar/`
- **Tech Stack**: React + react-day-picker + TanStack Query
- **Current Features**:
  - Month navigation
  - Normal and heatmap views
  - Focus area filtering
  - Task detail sheet
  - Task status updates

### Native Calendar
- **Location**: `apps/native/app/(tabs)/calendar/`
- **Tech Stack**: React Native + date-fns + TanStack Query
- **Current Features**:
  - Custom grid implementation
  - Basic task list
  - Normal and heatmap views

## Enhancement Roadmap

### Phase 1: Visual & UX Improvements

#### 1.1 Web Calendar Visual Overhaul
- [ ] Enlarge calendar cells for better readability
- [ ] Design larger task cards with focus area colors
- [ ] Implement multi-color heatmap gradient
- [ ] Add smooth animations and transitions
- [ ] Improve sidebar with visual focus area indicators
- [ ] Create prominent today highlight

#### 1.2 Native Calendar Visual Overhaul
- [ ] Increase touch target sizes
- [ ] Implement semantic color scheme
- [ ] Add card-based design patterns
- [ ] Improve heatmap visualization
- [ ] Add haptic feedback on interactions

### Phase 2: New Features

#### 2.1 Week View (Both Platforms)
- [ ] Create week view toggle component
- [ ] Implement timeline task layout
- [ ] Add hour-by-hour view option
- [ ] Connect to existing task data

#### 2.2 Task Quick Actions (Web)
- [ ] Add hover-based quick complete
- [ ] Implement task detail popover
- [ ] Integrate drag-and-drop with dnd-kit
- [ ] Add swipe actions for mobile

#### 2.3 Calendar Statistics Panel
- [ ] Calculate monthly completion rate
- [ ] Create focus area breakdown chart
- [ ] Implement streak tracking
- [ ] Add upcoming tasks preview

#### 2.4 Enhanced Focus Area Filtering
- [ ] Implement multi-select filtering
- [ ] Add color-coded task indicators
- [ ] Create focus area legend component
- [ ] Persist filter preferences

### Phase 3: Native-Specific Improvements

#### 3.1 Bottom Sheet Integration
- [ ] Replace task list with bottom sheet
- [ ] Implement swipeable day views
- [ ] Add task detail slides
- [ ] Connect to existing task data

#### 3.2 Gesture Navigation
- [ ] Implement swipe month navigation
- [ ] Add pull-to-refresh
- [ ] Create today quick-jump gesture

#### 3.3 Enhanced Task List
- [ ] Section tasks by time blocks
- [ ] Add priority indicators
- [ ] Display task duration
- [ ] Add completion animations

### Phase 4: API Enhancements

#### 4.1 New Calendar Endpoints
- [ ] `getTaskStats` - Monthly statistics
- [ ] `getStreaks` - Completion streaks
- [ ] `rescheduleTask` - Task rescheduling

## File Changes Summary

### Web Calendar Modifications
| File | Changes |
|------|---------|
| `apps/web/src/components/calendar/page.tsx` | Main layout, new views, statistics |
| `apps/web/src/components/calendar/task-calendar-grid.tsx` | Week view, enhanced heatmap |
| `apps/web/src/components/calendar/task-detail-sheet.tsx` | Quick actions, better styling |
| `apps/web/src/components/calendar/components/app-sidebar.tsx` | Enhanced filtering |

### Native Calendar Modifications
| File | Changes |
|------|---------|
| `apps/native/app/(tabs)/calendar/index.tsx` | Bottom sheet, gestures |
| `apps/native/components/calendar/calendar-grid.tsx` | Larger cells, better styling |

### New Files to Create
| File | Purpose |
|------|---------|
| `apps/web/src/components/calendar/week-view.tsx` | Week timeline view |
| `apps/web/src/components/calendar/calendar-stats.tsx` | Statistics panel |
| `apps/native/components/calendar/day-bottom-sheet.tsx` | Task bottom sheet |

### API Modifications
| File | Changes |
|------|---------|
| `packages/api/src/routers/calendar.ts` | New endpoints |

## Dependencies to Add
- `@dnd-kit/core` - Drag and drop (web)
- `@dnd-kit/sortable` - Sortable lists (web)
- `react-beautiful-dnd` - Alternative drag-drop

## Success Metrics
- [ ] Improved user engagement with calendar
- [ ] Higher task completion rates
- [ ] Positive user feedback on new design
- [ ] Consistent experience across web and native
